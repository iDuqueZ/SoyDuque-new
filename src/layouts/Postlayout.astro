---
import Bloglayout from '../layouts/Bloglayout.astro'
const {frontmatter} = Astro.props

import { format } from 'date-fns';
import { es } from 'date-fns/locale';


const dateObj = new Date(frontmatter.pubDate); 
const fechaFormateada = format(dateObj, 'dd/MMM/yyyy', { locale: es });

---

<Bloglayout title={frontmatter.title} description={frontmatter.description}>

  <main class="flex flex-col mx-auto mb-16 max-w-5xl mt-20 gap-6 md:p-6 p-3">
    <!-- Boton atras -->
    <div class="mx-auto w-full max-w-[860px] flex">
      <a href="/blog" class="flex items-center gap-2 mb-6 text-neutral-500 hover:text-neutral-700">
        <svg  width="24" height="24" viewBox="0 0 24 24" style="fill: rgb(88, 88, 88);transform: ;msFilter:;"><path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"></path></svg>
        Volver al blog
      </a>
    </div>
      <article class="mx-auto w-full prose prose-stone dark:prose-invert lg:prose-xl">
        <div class="max-w-[860px] mx-auto">


          <h1 class="text-6xl text-teal-400 font-semibold mb-4">{frontmatter.title}</h1>
          <div class="flex md:flex-wrap mt-4 mb-4 h-[35px] md:h-auto overflow-hidden">
            {frontmatter.tags.map((tag) => (
              <span
                class="bg-neutral-600 text-neutral-100 text-xs font-medium rounded-full py-2 px-3 mr-2 md:mb-2"
              >
                {tag}
              </span>
            ))}
          </div>
          <p class="flex mb-2 gap-2 text-sm">
            <svg class="mt-1" data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3.25C2.5 1.45507 3.95507 0 5.75 0H6.25C8.04493 0 9.5 1.45507 9.5 3.25V3.75C9.5 5.54493 8.04493 7 6.25 7H5.75C3.95507 7 2.5 5.54493 2.5 3.75V3.25ZM5.75 1.5C4.7835 1.5 4 2.2835 4 3.25V3.75C4 4.7165 4.7835 5.5 5.75 5.5H6.25C7.2165 5.5 8 4.7165 8 3.75V3.25C8 2.2835 7.2165 1.5 6.25 1.5H5.75ZM1.5 14.5V13.1709C2.31958 11.5377 3.99308 10.5 5.82945 10.5H6.17055C8.00692 10.5 9.68042 11.5377 10.5 13.1709V14.5H1.5ZM5.82945 9C3.35483 9 1.10604 10.4388 0.0690305 12.6857L0 12.8353V13V15.25V16H0.75H11.25H12V15.25V13V12.8353L11.931 12.6857C10.894 10.4388 8.64517 9 6.17055 9H5.82945ZM15.931 12.6857C15.3706 11.4715 14.4561 10.4931 13.3439 9.85058L12.5935 11.1494C13.399 11.6148 14.0681 12.3101 14.5 13.1709V14.5H13.5V16H15.25H16V15.25V13V12.8352L15.931 12.6857ZM11.25 0H10.5V1.5H11.25C12.2165 1.5 13 2.2835 13 3.25V3.75C13 4.7165 12.2165 5.5 11.25 5.5H10.5V7H11.25C13.0449 7 14.5 5.54493 14.5 3.75V3.25C14.5 1.45507 13.0449 0 11.25 0Z" fill="currentColor"></path>
            </svg>
            {frontmatter.author}
          </p>
          <p class="flex mb-8 items-center gap-2 text-sm">
            <svg data-testid="geist-icon" height="16" stroke-linejoin="round" viewBox="0 0 16 16" width="16" style="color: currentcolor;">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"></path>
            </svg>
            {fechaFormateada}
          </p>
          <p class="mb-6 text-neutral-400 font-normal p-6 border-l-2 border-neutral-500 italic">"{frontmatter.description}"</p>
        </div>

        <div class="mb-8 max-w-[860px]">
          <img src={frontmatter.image.url} alt={frontmatter.image.alt} class="w-full max-h-[600px] aspect-video object-cover" />
        </div>


        <div class="text-[1.5rem] text-neutral-900 max-w-[860px] mx-auto body-article">
          <slot />
        </div>
        
      </article>

  </main>
</Bloglayout>




